## 8.6 File Uploads part One

이제 파일 업로드를 해보자

우선 html에 input 과 아바타 label 을 추가하자

```pug
extends base

block content
    if errorMessage
        span=errorMessage
    form(method="POST")
        label(for="avatar") Avatar
        input(type="file" id= "avatar" name="avatar" accept="image/*")
        input(placeholder="Name", name="name", type="text", required, value=loggedInUser.name)
        input(placeholder="Email", name="email", type="email", required, value=loggedInUser.email)
        input(placeholder="Username", name="username", type="text", required, value=loggedInUser.username)
        input(placeholder="Location", name="location", type="text", required, value=loggedInUser.location)
        input(type="submit", value="Update Profile")


        if !loggedInUser.socialOnly
            hr
            a(href="change-password") Change Password &rarr;
```

그담에 미들웨어를 설치해야함

바로 `multer` 임 파일을 업로드 할 수 있게 해줌

```
npm i multer
```

`multer`는 form에다가 박아놔야 작동이 됨

```pug
form(method="POST", enctype="multipart/form-data")
```

일방적인 form과 다르게 encode 가 될꺼란거임

그리고 이제 middleware를 만들어줘야함
