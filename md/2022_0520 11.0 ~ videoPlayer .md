# 11 VIDEO PLAYER

## 11.0 Player Setup

이제 영상 플레이어를 조져 볼꺼임

js 로 작동을 시켜보고

실행되면 그걸 css 로 이쁘게 꾸밀꺼임

이걸 하기 전에 webpack이 어떻게 설정되어 있는지 확인해봐야함

```js
const MiniCssExtractPlugin = require("mini-css-extract-plugin");
const path = require("path");

module.exports = {
  entry: "./src/client/js/main.js",

  ~~~~ 생략
}
```

webpack 진입점(`entry`)은 모든 js를 컴파일하고

`base.pug`

```pug
script(src="/static/js/main.js")
```

이 파일은 `base.pug`에 로드되어 있음

우리는 이제 동영상 플레이어를 만들껀데

그런 js 코드를 `base.pug`를 실행할때 같이 로드 시키는건

비효율적임

그래서 다른 js 파일을 만들어서 그걸 다른 페이지에 포함시킬꺼임

videoPlay 페이지에 가면 딱 videoPlayer 코드만 로드되고

Recorde Video 페이지면 딱 Recode 코드만 로드되도록 할꺼임

현재 webpack에는 하나의 entry point만 가지고 있음

여러개의 entry point를 구현하려면 object 형식으로 하면 됨

```js
  entry: {
    main: "./src/client/js/main.js",
    videoPlayer: "./src/client/js/videoPlayer.js",
  },
```

이런식으로

근데 이러면 아웃풋 역시 여러개로 해줘야함

그럴려면

```js
  output: {
    filename: "js/[name].js",
    path: path.resolve(__dirname, "assets"),
    clean: true,
  },
```

이렇게 해주면 해당 이름들이 딱딱 assets 폴더에 만들어진다~

그리고 script를 블록화해서 필요한 script만 불러내서 이용하도록 하자

`base.pug`

```pug
doctype html
html(lang="ko")
    head
        title #{pageTitle} | #{siteName}
        link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css")
        link(rel="stylesheet", href="/static/css/styles.css")
    body
        include partials/header
        main
            block content
        include partials/footer
    block script

```

`watch.pug`

```pug
extends base.pug


block content
    h3 #{video.views} #{video.views === 1 ? "view" : "views"}
    video(src="/"+video.fileUrl controls width="500" height=auto)
    div

    //- 생략

block script
    script(src="/static/js/videoPlayer.js")
```

이런식으로 이용 가능

src에서 주소가 static인 이유는

`server.js`에서

```js
app.use("/static", express.static("assets"));
```

static으로 접근해야 assets 폴더로 갈 수 있기 때문이얌

자 이제 video를 조지자

## 11.1 Play Pause
