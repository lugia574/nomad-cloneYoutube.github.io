# 2. nodeJS

## 2.1 nodejs 파일 읽기

앞서 말한 텍스트값을 저장해 필요에 따라 불러 내려면

파일 읽는 법을 알아야한다

    nodejs file read

라고 구글에 검색하면 존나 잘 나온다

```js
const fs = require("fs");

fs.readFile("/tmp/test.txt", "utf8", (err, data) => {
  if (err) {
    console.error(err);
    return;
  }
  console.log(data);
});
```

대충 이렇다

## 2.2 read 기능을 이용한 본문 구현

자 이제 어떻게 하는지 알았으니까 함 해보자

```js
var http = require("http");
var fs = require("fs");
var url = require("url");

var app = http.createServer(function (request, response) {
  var _url = request.url;
  var queryData = url.parse(_url, true).query;
  var title = queryData.id;
  if (_url == "/") {
    title = "Welcome";
  }
  if (_url == "/favicon.ico") {
    return response.writeHead(404);
  }
  response.writeHead(200);
  fs.readFile(`data/${queryData.id}`, "utf8", function (err, description) {
    var template = `
      <!doctype html>
      <html>
      <head>
        <title>WEB1 - ${title}</title>
        <meta charset="utf-8">
      </head>
      <body>
        <h1><a href="/">WEB</a></h1>
        <ul>
          <li><a href="/?id=HTML">HTML</a></li>
          <li><a href="/?id=CSS">CSS</a></li>
          <li><a href="/?id=JavaScript">JavaScript</a></li>
        </ul>
        <h2>${title}</h2>
        <p>${description}</p>
      </body>
      </html>
      `;
    response.end(template);
  });
});
app.listen(3000);
```

이러면 됨
