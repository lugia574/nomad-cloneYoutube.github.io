## 7.7 Sessions and Cookies

로그인 할때 쓰이는게 세션, 쿠키임

- Sessions

        백엔드와 브라우저간에 어떤 활동을 했는지 기억하는 것
        memory, history

근데 이게 작동하려면 백엔드와 브라우저가 서로에 대한 정보를 가지고 있어야함

브라우저에서 보낸 요청이 끝나면 그 이후로는 백엔드는 아무것도 할게 없음

연결이 계속 유지되지 않음

연결이 끝나면 서로를 연결이 끊겨버림
이걸 `stateless`(무상태) 라고 부름

그러니까 연결이 끝나면 그 흔적? 을 남길꺼임

`express-session` 미들웨어 ㄱㄱ

```
npm i express-session
```

`server.js`

```js
import express from "express";
import morgan from "morgan";
import session from "express-session";
import rootRouter from "./routers/rootRouter";
import videoRouter from "./routers/videoRouter";
import userRouter from "./routers/userRouter";

const app = express();
const logger = morgan("dev");

app.set("view engine", "pug");
app.set("views", process.cwd() + "/src/views");
app.use(logger);
app.use(express.urlencoded({ extended: true }));

// 라우터 앞에서 초기화해줘야함
app.use(
  session({
    secret: "hello",
    resave: true,
    saveUninitialized: true,
  })
);
app.use("/", rootRouter);
app.use("/videos", videoRouter);
app.use("/users", userRouter);

export default app;
```

이러면 이제 이 미들웨어가 사이트로 들어오는 모든걸 기억할꺼임

1. 브라우져 서버에 접근
2. 서버가 브라우져에게 Cookie 준다.
3. 브라우져가 서버에 다시 접근할 때 2.에서 받은 Cookie를 함께 건냄.
4. 서버는 Cookie를 통해 브라우져를 구분 할 수 있다.
   is it correct?
