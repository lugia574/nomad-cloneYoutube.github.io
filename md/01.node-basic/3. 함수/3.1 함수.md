# 3. 함수

이제부터 진짜라고 할 수 있다

Node.js에서 매우 중요한 특징인 비동기 처리 방식을 살펴보자.

Node.js 실행순서를 파악하는 것이 목적

## 3.1 Node.js - 동기와 비동기 그리고 콜백

[출처](https://evan-moon.github.io/2019/09/19/sync-async-blocking-non-blocking/)

동기(Synchronous)와 비동기(asynchronous )

- 동기

  - 단순히 동기라는 단어를 들으면 대부분의 분들이 어떤 작업이 끝나지 않으면 그 뒤의 작업이 진행이 안 된다는 느낌으로만 알고 있지만,

    동기는 동시에 똑같이 진행된다는 뜻을 가지고 있다.

    예를 들어, 아이폰을 동기화한다고 하면 아이튠즈와 아이폰이 동시에 같은 상태로 업데이트가 되는 것을 의미하는 것이다.

  - 대표적인 동기의 예로는 은행이 있다.

    송금을 하고 금액을 받는 상황은 동시에 이루어져야 하기 때문이다.

    (한 쪽에서는 돈을 보냈지만 다른 한 쪽에서는 돈을 기다리는 상황이 생긴다면 이를 악용하는 사례들이 많을 것이다)

- 비동기

  - 비동기는 동기의 반대이다.

    비동기는 동시에 똑같이 진행되지 않는다는 뜻을 가지고 있다.

    작업들의 요청과 응답의 타이밍이 같지 않아도 된다는 것이다.

  - 대표적인 비동기의 예로는 시험이 있다.

    학생은 시험지를 풀고 채점을 기다리면 되고,

    선생은 채점을 하여 학생에게 건네기만 하면 된다.

    진행 타이밍은 중요하지 않다.

한번 확인해보자

`동기`

```js
var fs = require("fs");

//readFileSync
console.log("A");
var result = fs.readFileSync("syntax/sample.txt", "utf8");
console.log(result);
console.log("C");
```

`비동기`

```js
console.log("A");
fs.readFile("syntax/sample.txt", "utf8", function (err, result) {
  console.log(result);
});
console.log("C");
```

여기서 sample.txt 의 내용은 "B" 값이다

이때 각각의 동기와 비동기는 각각 다르게 실행된다.

동기는 A > B > C

동기는 `readFileSync` 가 끝날때까지 코드를 진행하지 않는다.

모든 코드가

비동기는 A > C > B

- 동기와 비동기의 장단점 💡

  - 동기

    - 장점 : 설계가 매우 간단하고 직관적이다.

    - 단점 : 결과가 주어질 때까지 아무것도 못하고 대기해야 합니다.

  - 비동기

    - 장점 : 요청에 따른 결과가 반환되는 시간 동안 다른 작업을 수행할 수 있습니다.

    - 단점 : 동기식보다 설계가 복잡합니다.
